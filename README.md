# ATOL-TO-ASTOR

Автоматический конвертер экспорта Frontol 6 из формата Atol в формат ASTOR

## Параметры запуска

```
C:\ProgramData\atol2astor>./atol2astor.exe -h
Usage of atol2astor.exe:
  -d    Запуск в режиме отладки
  -s    Запуск в режиме сервиса
```

## Пример конфигурации

> [!TIP]
> Место расположения каталога с файлами приложения: `%PROGRAMDATA%\atol2astor`

```xml
<!--C:\ProgramData\atol2astor\config.xml-->

<configuration>
    <!--Тег 'interval' устанавливает интервал между проверками файлов в минутах-->
    <interval>5</interval>
    <!--В теге 'imports' хранятся пути к файлам, которые будут конвертироваться в формат ASTOR-->
    <!--Конвертированный файл сохраняется в той же директории, в которой находится оригинальный файл, с имененем 'export.txt'-->
    <!--Внимание! Не рекомендуется использовать несколько раз одну и ту же директорию.-->
    <!--Внимание! Оригинальный файл должен иметь имя отличное от 'export.txt'.-->
    <imports>
        <import path="C:\atol1\import.txt"/>
        <import path="C:\atol2\import.txt"/>
    </imports>
</configuration>
```

## Порядок установки
1) Скачать [последнюю версию](https://github.com/ornaras/atol2astor/releases/latest)
2) Запустить от имени админстратора
3) В меню выбрать первый пункт:
   ```batch
   Возможные действия:
   1) Установка службы
   2) Удаление службы
   3) Открыть конфигурацию
   
   Номер действия: 1
   ```

## Порядок сборки

> [!TIP]
> Go 1.20.x является последней версией поддерживающей сборку приложений для Windows 7 и выше

1) Установить [Go 1.20+](https://go.dev/dl/)
2) Клонировать репозиторий: `git clone https://github.com/ornaras/atol2astor.git`
3) Настроить следующие переменные окружения:
   - **GOARCH**: `386`
   - **GOOS**: `windows`
4) Запустить сборку приложения: `go build -ldflags="-s -w" .`
